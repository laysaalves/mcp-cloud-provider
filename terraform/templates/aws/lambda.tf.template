resource "aws_lambda_function" "{{lambda_resource_name}}" {
  function_name = "{{lambda_function_name}}"
  role          = aws_iam_role.{{lambda_role_resource_name}}.arn
  handler       = "handler.lambda_handler"
  runtime       = "python3.11"
  filename      = "{{lambda_zip_path}}"

  source_code_hash = filebase64sha256("{{lambda_zip_path}}")

  timeout = 30
  memory_size = 128

  environment {
    variables = {
      ENV = "{{environment}}"
    }
  }
}
